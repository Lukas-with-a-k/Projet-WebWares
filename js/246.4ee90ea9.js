"use strict";(self["webpackChunkwebwares"]=self["webpackChunkwebwares"]||[]).push([[246],{7441:function(t,e,n){n.d(e,{A:function(){return k}});var o=n(6768),l=n(4232);function u(t,e,n,u,a,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("button",null,(0,l.v_)(n.label),1)])}var a=n(5130);const r={props:{label:String,bcolor:String,hcolor:String}},s=()=>{(0,a.$9)((t=>({"3a577f09":t.bcolor,"449492c3":t.hcolor})))},d=r.setup;r.setup=d?(t,e)=>(s(),d(t,e)):s;var i=r,c=n(1241);const m=(0,c.A)(i,[["render",u],["__scopeId","data-v-e05e590c"]]);var k=m},5246:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var o=n(6768),l=n(4232),u=n(5130);const a={class:"command-list"},r={key:0},s=["onUpdate:modelValue","onChange"];function d(t,e,n,d,i,c){const m=(0,o.g2)("ButtonComponent");return(0,o.uX)(),(0,o.CE)("div",a,[e[2]||(e[2]=(0,o.Lk)("h1",null,"Liste des commandes",-1)),(0,o.Lk)("table",null,[e[1]||(e[1]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID de Commande"),(0,o.Lk)("th",null,"Nom du produit"),(0,o.Lk)("th",null,"Prix"),(0,o.Lk)("th",null,"Quantité"),(0,o.Lk)("th",null,"Coût total"),(0,o.Lk)("th",null,"Raison sociale"),(0,o.Lk)("th",null,"Status")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.userCommand,((t,n)=>((0,o.uX)(),(0,o.CE)("tr",{key:n,style:(0,l.Tr)(c.changeBackground(t.status))},[(0,o.Lk)("td",null,(0,l.v_)(t.id),1),(0,o.Lk)("td",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.showDetails(t.id),((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e},(0,l.v_)(t.titre),1)))),128))]),(0,o.Lk)("td",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.showDetails(t.id),((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e},(0,l.v_)(t.prix),1)))),128))]),(0,o.Lk)("td",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.showDetails(t.id),((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e},(0,l.v_)(t.count),1)))),128))]),(0,o.Lk)("td",null,(0,l.v_)(t.ttc),1),(0,o.Lk)("td",null,(0,l.v_)(t.user),1),(0,o.Lk)("td",null,["nouveau"===t.status?((0,o.uX)(),(0,o.CE)("p",r," Nouveau !")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e=>t.status=e,onChange:e=>c.updateStatus(t)},e[0]||(e[0]=[(0,o.Lk)("option",{value:"nouveau"},"Nouveau",-1),(0,o.Lk)("option",{value:"enCour"},"En cour",-1),(0,o.Lk)("option",{value:"envoyé"},"Envoyé",-1),(0,o.Lk)("option",{value:"livré"},"Livré",-1)]),40,s),[[u.u1,t.status]])]),(0,o.Lk)("td",null,[(0,o.bF)(m,{label:"Supprimer / Annuler",onClick:t=>c.supprimeCommmand(n),bcolor:"#3f4666",hcolor:"#4280b8"},null,8,["onClick"])])],4)))),128))])])])}var i=n(7441),c={components:{ButtonComponent:i.A},data(){return{userCommand:[],commandDetails:[]}},methods:{convertProxyToObject(t){return JSON.parse(JSON.stringify(t))},showDetails(t){let e=this.commandDetails.filter((e=>e.id===t)),n=e.map(this.convertProxyToObject);return n},updateStatus(t){let e=JSON.parse(localStorage.getItem("userCommand"))||[],n=e.findIndex((e=>e.id===t.id));-1!==n&&(e[n].status=t.status,localStorage.setItem("userCommand",JSON.stringify(e)))},changeBackground(t){return"enCour"===t?"background-color: #edd1d1;":"nouveau"===t?"background-color: #cfeacf;":"livré"===t?"background-color: #c2c2c2;":""},supprimeCommmand(t){let e=this.userCommand[t].id;this.commandDetails=this.commandDetails.filter((t=>t.id!==e)),localStorage.setItem("commandDetails",JSON.stringify(this.commandDetails)),this.userCommand.splice(t,1),localStorage.setItem("userCommand",JSON.stringify(this.userCommand))}},created(){this.userCommand=JSON.parse(localStorage.getItem("userCommand"))||[],this.commandDetails=JSON.parse(localStorage.getItem("commandDetails"))||[]}},m=n(1241);const k=(0,m.A)(c,[["render",d],["__scopeId","data-v-628404dc"]]);var p=k}}]);
//# sourceMappingURL=246.4ee90ea9.js.map