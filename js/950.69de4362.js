"use strict";(self["webpackChunkwebwares"]=self["webpackChunkwebwares"]||[]).push([[950],{950:function(t,e,o){o.r(e),o.d(e,{default:function(){return L}});var n=o(6768),l=o(4232),u=o(5130);const a={class:"user-list"},s=["onUpdate:modelValue","onChange"],c=["onClick"];function r(t,e,o,r,d,i){return(0,n.uX)(),(0,n.CE)("div",a,[e[2]||(e[2]=(0,n.Lk)("h1",null,"Liste des utilisateurs",-1)),(0,n.Lk)("table",null,[e[1]||(e[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Raison Sociale"),(0,n.Lk)("th",null,"Adresse"),(0,n.Lk)("th",null,"Code Postal"),(0,n.Lk)("th",null,"Ville"),(0,n.Lk)("th",null,"Adresse Email"),(0,n.Lk)("th",null,"Téléphone"),(0,n.Lk)("th",null,"Role"),(0,n.Lk)("th",null,"Actions")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.accounts,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.username},[(0,n.Lk)("td",null,(0,l.v_)(t.name),1),(0,n.Lk)("td",null,(0,l.v_)(t.adress),1),(0,n.Lk)("td",null,(0,l.v_)(t.postal),1),(0,n.Lk)("td",null,(0,l.v_)(t.city),1),(0,n.Lk)("td",null,(0,l.v_)(t.username),1),(0,n.Lk)("td",null,(0,l.v_)(t.phone),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>t.type=e,onChange:e=>i.updateAccount(t)},e[0]||(e[0]=[(0,n.Lk)("option",{value:"member"},"Membre",-1),(0,n.Lk)("option",{value:"admin"},"Admin",-1)]),40,s),[[u.u1,t.type]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>i.removeAccount(t),style:{"background-color":"tomato"}},"Supprimer",8,c)])])))),128))])])])}var d={data(){return{accounts:[]}},methods:{getAccountsFromLocalStorage(){const t=localStorage.getItem("accounts");return t?JSON.parse(t):[]},saveAccountsToLocalStorage(t){localStorage.setItem("accounts",JSON.stringify(t))},updateAccount(t){const e=this.getAccountsFromLocalStorage(),o=e.findIndex((e=>e.username===t.username));-1!==o&&(e[o].type=t.type,this.saveAccountsToLocalStorage(e))},removeAccount(t){if(confirm(`Êtes-vous sûr de vouloir supprimer le compte de ${t.name} ?`)){const e=this.getAccountsFromLocalStorage(),o=e.filter((e=>e.username!==t.username));this.saveAccountsToLocalStorage(o),this.loadAccounts()}},loadAccounts(){this.accounts=this.getAccountsFromLocalStorage()}},mounted(){this.loadAccounts()}},i=o(1241);const k=(0,i.A)(d,[["render",r],["__scopeId","data-v-38ab6395"]]);var L=k}}]);
//# sourceMappingURL=950.69de4362.js.map